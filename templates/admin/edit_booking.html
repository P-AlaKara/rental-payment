<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Edit Booking #{{ booking.id }}</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
</head>
<body>
	<div class="container py-4">
		<h1 class="mb-3">Edit Booking #{{ booking.id }}</h1>
		<p><strong>{{ booking.customer_name }}</strong> · {{ booking.email }} · {{ booking.phone }}</p>
		<p>Dates: {{ booking.start_date }} → {{ booking.end_date }}</p>

		<div class="card p-4 mb-4">
			<h5>Direct Debit Schedule</h5>
			<form method="post">
				{{ form.hidden_tag() }}
				<div class="row g-3">
					<div class="col-md-4">
						<label class="form-label">{{ form.upfront_amount.label }}</label>
						{{ form.upfront_amount(class="form-control", step="0.01") }}
					</div>
					<div class="col-md-4">
						<label class="form-label">{{ form.recurring_amount.label }}</label>
						{{ form.recurring_amount(class="form-control", step="0.01") }}
					</div>
					<div class="col-md-4">
						<label class="form-label">{{ form.frequency.label }}</label>
						{{ form.frequency(class="form-select") }}
					</div>
				</div>
				<div class="mt-3">
					{{ form.submit(class="btn btn-primary") }}
					<a href="{{ url_for('admin.bookings_list') }}" class="btn btn-outline-secondary">Back</a>
				</div>
			</form>
			{% if booking.payment_schedule %}
				<p class="text-success small mt-3">Schedule set. Next debit: {{ booking.payment_schedule.next_debit_date }}</p>
			{% else %}
				<p class="text-muted small mt-3">Payment schedule not set.</p>
			{% endif %}
		</div>
	</div>
</body>
</html>