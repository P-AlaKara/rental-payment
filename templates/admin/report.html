<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Admin Report</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
</head>
<body>
	<div class="container py-4">
		<h1 class="mb-3">Bookings & Payments Report</h1>
		<p>Total active bookings: <strong>{{ total_active }}</strong></p>
		<table class="table table-bordered w-auto">
			<thead>
				<tr>
					<th>Status</th>
					<th>Count</th>
					<th>Scheduled Sum</th>
					<th>Paid Sum</th>
				</tr>
			</thead>
			<tbody>
				{% for status, row in summary.items() %}
				<tr>
					<td>{{ status }}</td>
					<td>{{ row.count }}</td>
					<td>${{ '%.2f'|format(row.scheduled_sum / 100.0) }}</td>
					<td>${{ '%.2f'|format((row.paid_sum or 0) / 100.0) }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
		<a href="{{ url_for('admin.bookings_list') }}" class="btn btn-outline-secondary btn-sm">Back</a>
	</div>
</body>
</html>